{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\AJAY\\\\projects\\\\fullstack-ecommerce\\\\fullstack-ecommerce-application\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _objectSpread from \"C:\\\\Users\\\\AJAY\\\\projects\\\\fullstack-ecommerce\\\\fullstack-ecommerce-application\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\AJAY\\\\projects\\\\fullstack-ecommerce\\\\fullstack-ecommerce-application\\\\src\\\\components\\\\App.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  body {\\n    margin: 0;\\n    padding: 0;\\n    font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", \\\"Roboto\\\", \\\"Oxygen\\\",\\n      \\\"Ubuntu\\\", \\\"Cantarell\\\", \\\"Fira Sans\\\", \\\"Droid Sans\\\", \\\"Helvetica Neue\\\",\\n      sans-serif;\\n    -webkit-font-smoothing: antialiased;\\n    -moz-osx-font-smoothing: grayscale;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query Limit($limit: Int!) {\\n    limit\\n  }\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Header from './Header/Header';\nimport Products from './Products/Products';\nimport Login from './Checkout/Login';\nimport Checkout from './Checkout/Checkout'; // import gql from 'graphql-tag';\n\nimport Cart from './Cart/Cart'; // import ApolloClient from 'apollo-client';\n\nimport { ApolloClient, InMemoryCache, gql } from \"@apollo/client\";\nimport { HttpLink } from 'apollo-link-http';\nimport { ApolloProvider } from 'react-apollo';\nimport { setContext } from 'apollo-link-Context';\nvar httpLink = new HttpLink({\n  uri: 'http://localhost:4000/graphql'\n});\nvar authLink = setContext(function (_, _ref) {\n  var headers = _ref.headers;\n  var token = isAuthenticated;\n  return {\n    headers: _objectSpread({}, headers, {\n      authorization: token ? \"Bearer \".concat(token) : ''\n    })\n  };\n});\nvar isAuthenticated = sessionStorage.getItem('token');\nvar cache = new InMemoryCache();\nvar client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: cache,\n  resolvers: {},\n  typeDefs: \"\\n   extend type Query {\\n   limit: Int!\\n   }\\n  \"\n});\ncache.writeQuery({\n  query: gql(_templateObject()),\n  data: {\n    limit: 5\n  }\n});\nvar GlobalStyle = createGlobalStyle(_templateObject2());\nvar AppWrapper = styled.div(_templateObject3());\n\nvar App = function App() {\n  return React.createElement(ApolloProvider, {\n    client: client,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(GlobalStyle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(AppWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Products,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/cart\",\n    component: Cart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/checkout\",\n    render: function render(props) {\n      return isAuthenticated ? React.createElement(Checkout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }) : React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/login\",\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }))));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/AJAY/projects/fullstack-ecommerce/fullstack-ecommerce-application/src/components/App.js"],"names":["React","styled","createGlobalStyle","Route","Switch","Redirect","Header","Products","Login","Checkout","Cart","ApolloClient","InMemoryCache","gql","HttpLink","ApolloProvider","setContext","httpLink","uri","authLink","_","headers","token","isAuthenticated","authorization","sessionStorage","getItem","cache","client","link","concat","resolvers","typeDefs","writeQuery","query","data","limit","GlobalStyle","AppWrapper","div","App","props"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport styled, { createGlobalStyle } from 'styled-components';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport Header from './Header/Header';\r\nimport Products from './Products/Products';\r\nimport Login from './Checkout/Login';\r\nimport Checkout from './Checkout/Checkout';\r\n// import gql from 'graphql-tag';\r\nimport Cart from './Cart/Cart';\r\n\r\n// import ApolloClient from 'apollo-client';\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  gql\r\n} from \"@apollo/client\";\r\nimport { HttpLink } from 'apollo-link-http';\r\nimport { ApolloProvider } from 'react-apollo';\r\nimport { setContext } from 'apollo-link-Context';\r\n\r\nconst httpLink = new HttpLink({\r\n  uri: 'http://localhost:4000/graphql',\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = isAuthenticated;\r\n\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : '',\r\n    },\r\n  };\r\n});\r\n\r\n\r\n\r\nconst isAuthenticated = sessionStorage.getItem('token');\r\nconst cache = new InMemoryCache();\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(httpLink),\r\n  cache,\r\n  resolvers: {\r\n\r\n  },\r\n  typeDefs: `\r\n   extend type Query {\r\n   limit: Int!\r\n   }\r\n  `,\r\n});\r\ncache.writeQuery({\r\n  query: gql`\r\n  query Limit($limit: Int!) {\r\n    limit\r\n  }`,\r\n  data: { limit: 5 },\r\n});\r\n\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\r\n      \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\r\n      sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n`;\r\n\r\nconst AppWrapper = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst App = () => (\r\n  <ApolloProvider client={client}>\r\n    <GlobalStyle />\r\n    <AppWrapper>\r\n      <Header />\r\n      <Switch>\r\n        <Route exact path='/' component={Products} />\r\n        <Route path='/cart' component={Cart} />\r\n        <Route\r\n          path='/checkout'\r\n          render={props =>\r\n            isAuthenticated\r\n              ? <Checkout />\r\n              : <Redirect to='/login' />\r\n          }\r\n        />\r\n        <Route path='/login' component={Login} />\r\n      </Switch>\r\n    </AppWrapper>\r\n  </ApolloProvider>\r\n);\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}